<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Granja Bitencourt - Ovos Caipiras Frescos</title>

  <!-- 🔹 Meta tags SEO -->
  <meta name="description" content="Granja Bitencourt — ovos caipiras frescos e de alta qualidade em Nova Lima.">
  <meta name="keywords" content="ovos caipiras, granja bitencourt, nova lima, ovos frescos">
  <meta property="og:title" content="Granja Bitencourt - Ovos Caipiras Frescos">
  <meta property="og:description" content="Produzimos ovos caipiras com qualidade e cuidado.">
  <meta property="og:image" content="https://granjabitencourt.github.io/granjabitencourt/imagem-principal.jpg">
  <meta property="og:url" content="https://granjabitencourt.github.io/granjabitencourt/">
</head>

<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="icon" type="image/png" href="logo.png">

<!-- Tailwind CDN -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
  /* 🔹 Destaque visual no quadro “Direto da Granja” */
  #heroText {
    margin-top: -20px;
    /* move ligeiramente para cima */
    animation: slideUp 1s ease-out forwards;
  }

  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* 🔹 Move o painel da taxa de produção um pouco mais para baixo */
  #painelProducao {
    margin-top: 30px;
  }

  /* 🔹 Animação de piscar (blink) */
  @keyframes blink {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.3;
    }
  }

  /* Quando o usuário passar o mouse no painel da taxa de produção */
  #carinhaStatus:hover i {
    animation: blink 0.4s ease-in-out 3;
    /* pisca 3 vezes */
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }

  /* 🔹 Animação de flutuação e brilho para ícones dos produtos */
  @keyframes float {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-6px);
    }
  }

  @keyframes pulseGlow {

    0%,
    100% {
      filter: brightness(1);
    }

    50% {
      filter: brightness(1.15);
    }
  }

  /* Aplica animação a todos os ícones de produtos */
  #produtos article .w-14 i {
    animation: float 3s ease-in-out infinite, pulseGlow 4s ease-in-out infinite;
    transition: transform 0.3s ease, filter 0.3s ease;
  }

  /* Interação ao passar o mouse (destaca o card) */
  #produtos article:hover .w-14 i {
    transform: scale(1.15);
    filter: brightness(1.25);
  }

  /* 🔹 Lightbox moderno */
  #lightboxOverlay {
    transition: opacity 0.3s ease-in-out;
  }

  #lightbox.show #lightboxOverlay {
    opacity: 1;
  }

  #galinhaImg {
    animation: bounce 2s infinite ease-in-out;
  }

  @keyframes bounce {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-4px);
    }
  }

  /* 🔹 Cabeçalho refinado — Verde Terra com degradê */
  #mainHeader {
    background: linear-gradient(90deg, #355e3b 0%, #2d4f32 100%);
    color: #ffffff;
  }

  /* Links e textos */
  #mainHeader a,
  #mainHeader .text-gray-500,
  #mainHeader .text-gray-600 {
    color: #f7f9f3 !important;
  }

  /* Hover com amarelo caipira */
  #mainHeader a:hover {
    color: #ffc947 !important;
  }

  /* Subtítulo mais suave */
  #mainHeader .text-gray-500 {
    color: #dce8d2 !important;
  }

  /* 🔹 Nome principal “Granja Bitencourt” — branco refinado */
  #mainHeader .font-extrabold.text-[var(--brand-dark)] {
    color: #f7f9f3 !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    /* leve brilho para legibilidade */
  }

  /* Ícones do menu (mobile) */
  #mainHeader .fa-bars,
  #mainHeader .fa-xmark {
    color: #f7f9f3 !important;
  }


  #sobre i {
    transition: transform 0.5s ease;
  }

  #sobre:hover i {
    transform: rotate(-10deg) scale(1.1);
  }

  .fade-up {
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.6s ease;
  }

  .fade-up.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* <-- FECHA AQUI! */

  .fa-instagram:hover {
    color: #E4405F;
  }

  .fa-whatsapp:hover {
    color: #25D366;
  }

  .fa-envelope:hover {
    color: #FFD43B;
  }

  :root {
    --brand-dark: #0A3F36;
    /* deep brand green */
    --brand-green: #2F7A3F;
    --brand-muted: #4D8076;
    --brand-yellow: #FFC947;
    --egg-brown: #a15d3f;
    --bg: #FEFBF6;

  }

  body {
    background: var(--bg);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    color: #0f172a;
  }

  .card {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.85));
    box-shadow: 0 8px 30px rgba(10, 10, 10, 0.08);
    border-radius: 14px;
  }

  .hero-wave {
    background: radial-gradient(1200px 350px at 10% 10%, rgba(255, 201, 71, 0.08), transparent 10%), radial-gradient(900px 300px at 90% 70%, rgba(47, 122, 63, 0.04), transparent 10%);
  }

  .fade-in {
    transform: translateY(10px);
    opacity: 0;
    transition: all 560ms cubic-bezier(.2, .9, .3, 1);
  }

  .fade-in.show {
    transform: none;
    opacity: 1;
  }

  .pill {
    border-radius: 999px;
    padding: 6px 12px;
    font-weight: 600;
  }

  /* logo container (original) */
  .logo-circle {
    width: 92px;
    height: 92px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: none;
    /* remove o círculo amarelo */
    box-shadow: none;
    border: none;
  }

  .logo-circle img {
    width: 100%;
    height: auto;
    object-fit: contain;
    /* mostra a logo inteira */
    border-radius: 0;
    /* sem corte circular */
  }


  a.cta:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 24px rgba(16, 24, 40, 0.08);
  }

  .muted {
    color: #475569;
  }

  @media (max-width:640px) {
    .hero-title {
      font-size: 28px;
    }
  }

  /* Modal styles (simple) */
  .modal-card {
    max-width: 720px;
    width: 100%;
    padding: 20px;
    border-radius: 12px;
    background: linear-gradient(180deg, #fff, #fff);
    box-shadow: 0 12px 40px rgba(2, 6, 23, 0.12);
  }

  .card:hover {
    transform: translateY(-4px);
    transition: 0.3s ease;
    box-shadow: 0 6px 14px rgba(0, 0, 0, 0.1);
  }

  #como-comprar i {
    transition: transform 0.3s ease;
  }

  #como-comprar i:hover {
    transform: scale(1.2);
  }

  /* 🔹 Lightbox moderno e responsivo */
  #lightbox {
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    display: none;
    align-items: center;
    justify-content: center;
    position: fixed;
    inset: 0;
    z-index: 50;
    transition: opacity 0.3s ease;
  }

  #lightbox.show {
    display: flex;
    opacity: 1;
  }

  #lightbox img {
    max-height: 85vh;
    max-width: 90vw;
    border-radius: 1rem;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
    transform: scale(0.9);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  #lightbox.show img {
    transform: scale(1);
    opacity: 1;
  }


  /* === Ajuste fino HERO: direita um pouco mais acima === */

  /* 🔹 Mantém o quadro esquerdo "Direto da Granja" na posição anterior */
  #heroText {
    margin-top: -280px !important;
    animation: slideUp 1s ease-out forwards;
  }

  /* 🔹 Sobe levemente o quadro direito "Taxa de Produção" */
  #heroVisual {
    margin-top: 200px !important;
    /* antes 260px */
    transition: margin 0.4s ease;
  }

  /* 🔹 Animação suave de entrada */
  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  /* 🔹 Piscar da carinha ao passar o mouse */
  #carinhaStatus:hover i {
    animation: blink 0.4s ease-in-out 3;
    transform: scale(1.1);
    transition: transform 0.2s ease;
  }

  @keyframes blink {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.3;
    }
  }
</style>
</head>
<script>
  // Faz os elementos com classe .fade-up aparecerem suavemente ao rolar a página
  window.addEventListener("scroll", () => {
    document.querySelectorAll(".fade-up").forEach(el => {
      const rect = el.getBoundingClientRect();
      if (rect.top < window.innerHeight * 0.9) {
        el.classList.add("visible");
      }
    });
  });
</script>

<body class="antialiased">

  <!-- CABEÇALHO PROFISSIONAL -->
  <header id="mainHeader"
    class="fixed top-0 left-0 w-full z-50 bg-white/90 backdrop-blur-md shadow-sm transition-all duration-300">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">

      <!-- Logo e nome -->
      <a href="#" class="flex items-center gap-3 group">
        <div
          class="w-14 h-14 rounded-full overflow-hidden border-4 border-[var(--brand-yellow)] shadow-md group-hover:scale-105 transition">
          <img src="logo.png" alt="Logo Granja Bitencourt" class="w-full h-full object-cover">
        </div>
        <div>
          <div
            class="text-xl font-extrabold text-[var(--brand-dark)] leading-tight group-hover:text-[var(--brand-green)] transition">
            Granja Bitencourt
          </div>
          <div class="text-xs text-gray-500 -mt-1">Ovos caipiras — Nova Lima</div>
        </div>
      </a>

      <!-- Menu Desktop -->
      <nav class="hidden md:flex items-center gap-8">
        <a href="#sobre" class="text-sm text-gray-600 hover:text-[var(--brand-dark)] transition">Sobre</a>
        <a href="#produtos" class="text-sm text-gray-600 hover:text-[var(--brand-dark)] transition">Produtos</a>
        <a href="#sustentabilidade"
          class="text-sm text-gray-600 hover:text-[var(--brand-dark)] transition">Sustentabilidade</a>
        <a href="#contato"
          class="pill bg-[var(--brand-yellow)] text-[var(--brand-dark)] font-bold px-4 py-2 shadow-sm hover:shadow-md hover:bg-yellow-400 transition">
          Peça pelo WhatsApp
        </a>
      </nav>

      <!-- Botão Mobile -->
      <button id="mobileMenuBtn" class="md:hidden text-[var(--brand-dark)] text-2xl focus:outline-none">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>

    <!-- Menu Mobile -->
    <div id="mobileMenu"
      class="hidden flex-col items-center bg-white border-t border-gray-200 shadow-lg md:hidden animate-fadeIn">
      <a href="#sobre" class="py-3 text-gray-700 hover:text-[var(--brand-green)] w-full text-center">Sobre</a>
      <a href="#produtos" class="py-3 text-gray-700 hover:text-[var(--brand-green)] w-full text-center">Produtos</a>
      <a href="#sustentabilidade"
        class="py-3 text-gray-700 hover:text-[var(--brand-green)] w-full text-center">Sustentabilidade</a>
      <a href="#contato"
        class="py-3 font-bold bg-[var(--brand-yellow)] text-[var(--brand-dark)] w-full text-center hover:bg-yellow-400 transition">
        Peça pelo WhatsApp
      </a>
    </div>
  </header>

  <script>
    // Controle do menu móvel
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      mobileMenuBtn.innerHTML = mobileMenu.classList.contains('hidden')
        ? '<i class="fa-solid fa-bars"></i>'
        : '<i class="fa-solid fa-xmark"></i>';
    });

    // Efeito de scroll no cabeçalho
    const header = document.getElementById('mainHeader');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header.classList.add('shadow-lg', 'bg-white/95');
      } else {
        header.classList.remove('shadow-lg', 'bg-white/95');
      }
    });
  </script>

  <!-- Ajuste para compensar o cabeçalho fixo -->
  <div class="h-24"></div>


  <!-- HERO -->
  <header class="hero-wave">
    <div class="max-w-6xl mx-auto px-6 pt-6 lg:pt-12 pb-20">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
        <div class="fade-in" id="heroText">
          <div class="card p-6 lg:p-10">
            <div class="flex items-center gap-4">
              <div class="w-14 h-14 rounded-full flex items-center justify-center bg-[var(--brand-green)]">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
                  stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M12 3C8 3 4 9 4 13a8 8 0 0 0 16 0c0-4-4-10-8-10z"></path>
                </svg>
              </div>
              <div>
                <div class="text-xs text-[var(--brand-muted)] uppercase font-semibold">Direto da Granja</div>
                <div class="text-2xl font-extrabold text-[var(--brand-dark)]">Ovos Caipiras Fresquinhos</div>
              </div>
            </div>

            <h1 class="hero-title text-4xl lg:text-5xl font-extrabold text-[var(--brand-dark)] mt-6 leading-tight">
              Sabor mais intenso. Mais nutrientes. <span class="text-[var(--brand-yellow)]">100% local</span>.
            </h1>

            <p class="muted mt-4 max-w-xl">Galinhas criadas livres, coleta diária e entrega rápida para Nova Lima. Apoie
              o produtor local e leve para casa ovos mais saborosos e nutritivos.</p>

            <div class="mt-6 flex gap-3 flex-wrap">
              <a id="orderBtn" href="#"
                class="cta pill bg-[var(--brand-yellow)] text-[var(--brand-dark)] font-bold px-5 py-3 inline-flex items-center gap-3">
                Peça agora pelo WhatsApp
              </a>
              <a href="#produtos"
                class="pill border border-[var(--brand-muted)] text-[var(--brand-dark)] font-medium px-5 py-3">Ver
                produtos</a>
            </div>
          </div>
        </div>

        <!-- Visual / Product panel -->
        <div class="fade-in" id="heroVisual">
          <div class="card p-6 lg:p-10">
            <div class="flex flex-col gap-4">
              <div class="rounded-lg overflow-hidden" style="background:linear-gradient(180deg,#fff 0%, #fffbf2 100%);">
                <div class="p-6">
                  <div class="flex items-center gap-4">
                    <div class="w-24 h-24 rounded-full overflow-hidden border-4 border-[var(--brand-yellow)] shadow-lg">
                      <img src="logo.png" alt="Logo Granja Bitencourt" class="w-full h-full object-cover">
                    </div>
                    <div>
                      <div class="text-lg font-bold text-[var(--brand-dark)]">Granja Bitencourt</div>
                      <div class="text-sm muted">Ovos caipiras — sabor autêntico</div>
                    </div>
                  </div>

                  <!-- CARD DE PREÇO -->
                  <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div class="bg-white p-4 rounded-lg shadow-sm">
                      <div class="text-xs muted">Preço</div>
                      <div class="text-xl font-extrabold text-[var(--brand-dark)] mt-1">R$ 14 / dúzia</div>
                      <div class="text-xs muted mt-2">Embalagem sustentável • Entrega diária</div>
                    </div>

                    <div class="bg-white p-4 rounded-lg shadow-sm">
                      <div class="text-xs muted">Disponibilidade</div>
                      <div class="text-xl font-bold text-[var(--brand-green)] mt-1">Produção diária</div>
                      <div class="text-xs muted mt-2">Pedidos por WhatsApp • Retirada e entrega</div>
                    </div>
                  </div>
                </div>

                <!-- Indicador de produção -->
                <div class="p-6 border-t border-gray-100 text-center">

                  <!-- Ícone dinâmico -->
                  <div id="carinhaStatus" class="flex justify-center mb-4 text-6xl transition-all duration-300">
                    <i id="carinhaIcon" class="fa-solid fa-face-meh text-yellow-500"></i>
                  </div>

                  <!-- Número em destaque -->
                  <div>
                    <h3 class="text-3xl font-extrabold text-[var(--brand-dark)]">Taxa de Produção</h3>
                    <div id="taxaNumero" class="text-5xl font-extrabold mt-2">--%</div>
                    <p id="taxaStatus" class="text-sm mt-1 text-gray-600 flex items-center justify-center gap-2">
                      <i id="statusIcon" class="fa-solid fa-spinner animate-spin text-gray-400"></i>
                      <span>Calculando...</span>
                    </p>
                  </div>

                  <!-- Fila de espera -->
                  <div id="filaDeEspera"
                    class="mt-6 inline-block px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300 shadow-md mx-auto">
                    <i id="filaIcon" class="fa-solid fa-clock mr-2"></i>
                    <span id="filaTexto">Verificando disponibilidade...</span>
                  </div>
                </div>

                <script>
                  // 🔹 Taxa de produção (simulação)
                  const taxaProducao = 79; // altere esse valor conforme o dia

                  const taxaNumero = document.getElementById("taxaNumero");
                  const taxaStatus = document.getElementById("taxaStatus");
                  const carinhaIcon = document.getElementById("carinhaIcon");
                  const statusIcon = document.getElementById("statusIcon");

                  taxaNumero.textContent = `${taxaProducao}%`;

                  if (taxaProducao >= 70) {
                    // Alta produção 😊
                    taxaStatus.querySelector("span").textContent = "Produção alta e saudável";
                    taxaNumero.classList.add("text-green-600");
                    carinhaIcon.className = "fa-solid fa-face-smile text-green-600";
                    statusIcon.className = "fa-solid fa-arrow-trend-up text-green-600";
                  } else if (taxaProducao >= 50) {
                    // Produção estável 😐
                    taxaStatus.querySelector("span").textContent = "Produção estável";
                    taxaNumero.classList.add("text-yellow-500");
                    carinhaIcon.className = "fa-solid fa-face-meh text-yellow-500";
                    statusIcon.className = "fa-solid fa-arrows-left-right text-yellow-500";
                  } else {
                    // Produção baixa ☹️
                    taxaStatus.querySelector("span").textContent = "Produção abaixo do ideal";
                    taxaNumero.classList.add("text-red-600");
                    carinhaIcon.className = "fa-solid fa-face-frown text-red-600";
                    statusIcon.className = "fa-solid fa-arrow-trend-down text-red-600";
                  }

                  // 🔹 Controle da fila de espera
                  const filaAtiva = false; // mude para true se houver fila de espera e false se não houver
                  const filaDeEspera = document.getElementById("filaDeEspera");
                  const filaTexto = document.getElementById("filaTexto");
                  const filaIcon = document.getElementById("filaIcon");

                  if (filaAtiva) {
                    filaTexto.textContent = "Fila de espera temporária";
                    filaDeEspera.classList.add(
                      "bg-red-100", "border", "border-red-400", "text-red-700", "animate-pulse"
                    );
                    filaIcon.className = "fa-solid fa-hourglass-half text-red-600 mr-2";
                  } else {
                    filaTexto.textContent = "Sem fila de espera";
                    filaDeEspera.classList.add(
                      "bg-green-100", "border", "border-green-400", "text-green-700"
                    );
                    filaIcon.className = "fa-solid fa-check-circle text-green-600 mr-2";
                  }
                </script>


                <div class="mt-4 text-sm muted">* Valores e disponibilidade sujeitos a modificação, confirmação via
                  WhatsApp.</div>
              </div>
            </div>
          </div>
        </div>
  </header>

  <!-- KEY SECTIONS -->
  <main class="max-w-6xl mx-auto px-6 py-12">

    <!-- Produtos / Highlights -->
    <section id="produtos" class="fade-up card p-6 lg:p-10 mb-8">
      <div class="flex items-center justify-between">
        <div>
          <h2 class="text-2xl font-extrabold text-[var(--brand-dark)]">Nossos Produtos</h2>
          <p class="muted mt-2">Ovos caipiras, por qualidade e sabor — embalagens sustentáveis e entregas locais.</p>
        </div>
        <div class="hidden md:block">
          <a href="#contato" class="pill border border-[var(--brand-green)] text-[var(--brand-green)] px-4 py-2">Quero
            receber novidades</a>
        </div>
      </div>

      <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

        <!-- Produto 1: Dúzia -->
        <article class="p-4 rounded-lg border border-gray-100">
          <div class="flex items-start gap-3">
            <div class="w-14 h-14 rounded-md flex items-center justify-center"
              style="background:linear-gradient(180deg,var(--egg-brown), #b7633f);">
              <i class="fa-solid fa-egg text-white text-2xl"></i>
            </div>
            <div>
              <h3 class="font-bold text-[var(--brand-dark)]">Ovo Dúzia — Caipira</h3>
              <p class="muted text-sm mt-1">Embalagem 12 unidades — ração natural e manejo livre.</p>
              <div class="mt-3 flex gap-2">
                <button class="pill border border-[var(--brand-muted)] text-[var(--brand-dark)] px-3 py-1"
                  onclick="openOrder('Ovo Dúzia — Caipira')">Pedir</button>
                <button class="pill text-sm bg-white border border-gray-200 px-3 py-1 muted"
                  onclick="showDetails('Ovo Dúzia — Caipira')">Detalhes</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Produto 2: Caixa 30 Un -->
        <article class="p-4 rounded-lg border border-gray-100">
          <div class="flex items-start gap-3">
            <div class="w-14 h-14 rounded-md flex items-center justify-center"
              style="background:linear-gradient(180deg,var(--brand-green), #2a6a34);">
              <i class="fa-solid fa-box-open text-white text-2xl"></i>
            </div>
            <div>
              <h3 class="font-bold text-[var(--brand-dark)]">Ovo Caixa — 30 un</h3>
              <p class="muted text-sm mt-1">Perfeito para pequeno comércio e eventos locais.</p>
              <div class="mt-3 flex gap-2">
                <button class="pill border border-[var(--brand-muted)] text-[var(--brand-dark)] px-3 py-1"
                  onclick="openOrder('Ovo Caixa — 30 un')">Pedir</button>
                <button class="pill text-sm bg-white border border-gray-200 px-3 py-1 muted"
                  onclick="showDetails('Ovo Caixa — 30 un')">Detalhes</button>
              </div>
            </div>
          </div>
        </article>

        <!-- Produto 3: Assinatura -->
        <article class="p-4 rounded-lg border border-gray-100">
          <div class="flex items-start gap-3">
            <div class="w-14 h-14 rounded-md flex items-center justify-center"
              style="background:linear-gradient(180deg,var(--brand-yellow), #ffd57a);">
              <i class="fa-solid fa-calendar-week text-[var(--brand-dark)] text-2xl"></i>
            </div>
            <div>
              <h3 class="font-bold text-[var(--brand-dark)]">Assinatura Semanal</h3>
              <p class="muted text-sm mt-1">Receba ovos frescos toda semana em sua casa.</p>
              <div class="mt-3 flex gap-2">
                <button class="pill border border-[var(--brand-muted)] text-[var(--brand-dark)] px-3 py-1"
                  onclick="openOrder('Assinatura Semanal')">Pedir</button>
                <button class="pill text-sm bg-white border border-gray-200 px-3 py-1 muted"
                  onclick="showDetails('Assinatura Semanal')">Detalhes</button>
              </div>
            </div>
          </div>
        </article>

      </div>
    </section>


    <!-- Seção Como Comprar -->
    <section id="como-comprar"
      class="fade-up card p-8 lg:p-12 mb-12 bg-gradient-to-br from-white via-[var(--brand-light)] to-[#fef9e7] rounded-2xl shadow-md">
      <div class="text-center mb-8">
        <h2 class="text-3xl font-extrabold text-[var(--brand-dark)]">Como Comprar</h2>
        <p class="muted mt-3 text-lg">Fazer seu pedido com a Granja Bitencourt é simples e rápido 🐔</p>
      </div>

      <div class="grid md:grid-cols-3 gap-6 mt-6 text-center">

        <!-- Etapa 1 -->
        <div class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition">
          <div
            class="w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-[var(--brand-yellow)] text-[var(--brand-dark)] text-2xl shadow-md mb-4">
            <i class="fa-brands fa-whatsapp"></i>
          </div>
          <h3 class="font-bold text-lg text-[var(--brand-dark)]">1. Entre em contato</h3>
          <p class="text-gray-600 mt-2 text-sm leading-relaxed">
            Fale conosco pelo <strong>WhatsApp</strong>.
        </div>

        <!-- Etapa 2 -->
        <div class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition">
          <div
            class="w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-[var(--brand-green)] text-white text-2xl shadow-md mb-4">
            <i class="fa-solid fa-clipboard-list"></i>
          </div>
          <h3 class="font-bold text-lg text-[var(--brand-dark)]">2. Informe o pedido</h3>
          <p class="text-gray-600 mt-2 text-sm leading-relaxed">
            Envie a <strong>quantidade desejada</strong> e o <strong>endereço de entrega</strong>.
          </p>
        </div>

        <!-- Etapa 3 -->
        <div class="bg-white rounded-2xl shadow p-6 hover:shadow-lg transition">
          <div
            class="w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-[var(--brand-dark)] text-white text-2xl shadow-md mb-4">
            <i class="fa-solid fa-truck"></i>
          </div>
          <h3 class="font-bold text-lg text-[var(--brand-dark)]">3. Receba com comodidade</h3>
          <p class="text-gray-600 mt-2 text-sm leading-relaxed">
            Combinamos o <strong>frete</strong> e o <strong>horário</strong> da entrega para você receber tudo
            fresquinho.
          </p>
        </div>
      </div>
    </section>



    <!-- Charts / Interactive -->
    <section class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
      <div class="card p-6">
        <h3 class="text-lg font-bold">Comparativo Nutricional </h3>
        <p class="muted text-sm mt-2">Valores comparativos ilustrativos — consulte rótulos e análises oficiais para
          dados laboratoriais.</p>
        <div class="mt-4">
          <canvas id="nutritionChart" height="260"></canvas>
        </div>
      </div>

      <div class="card p-6">
        <h3 class="text-lg font-bold">Comparativo de preço da dúzia</h3>
        <p class="muted text-sm mt-2">Veja como o preço da Granja Bitencourt se compara aos principais supermercados de
          Minas Gerais.</p>

        <div class="mt-4">
          <canvas id="priceComparisonChart" height="260"></canvas>
        </div>
      </div>

      <script>
        // Carrega Chart.js apenas uma vez
        if (!window.ChartJSLoaded) {
          const s = document.createElement('script');
          s.src = "https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js";
          s.onload = initPriceChart;
          document.head.appendChild(s);
          window.ChartJSLoaded = true;
        } else {
          initPriceChart();
        }

        function initPriceChart() {
          const ctx = document.getElementById('priceComparisonChart').getContext('2d');
          if (window.priceChartInstance) window.priceChartInstance.destroy();

          // 🔹 Altere os preços diretamente aqui:
          const prices = {
            granja: 14.00,       // preço da Granja Bitencourt
            verdemar: 19.20,     // Verdemar
            bh: 18.50,           // Supermercados BH
            carrefour: 18.00,    // Carrefour
            extra: 19.08         // Extra
          };

          const labels = [
            'Granja Bitencourt',
            'Verdemar',
            'Supermercados BH',
            'Carrefour',
            'Extra'
          ];

          const data = Object.values(prices);

          const chart = new Chart(ctx, {
            type: 'bar',
            data: {
              labels,
              datasets: [{
                label: 'Preço por dúzia (R$)',
                data,
                backgroundColor: [
                  'rgba(34,197,94,0.9)',  // Granja Bitencourt (verde)
                  'rgba(99,102,241,0.85)', // Verdemar
                  'rgba(99,102,241,0.85)', // BH
                  'rgba(99,102,241,0.85)', // Carrefour
                  'rgba(99,102,241,0.85)'  // Extra
                ],
                borderRadius: 6
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { display: false },
                tooltip: {
                  callbacks: {
                    label: c => 'R$ ' + c.formattedValue
                  }
                }
              },
              scales: {
                y: {
                  beginAtZero: true,
                  ticks: {
                    callback: v => 'R$ ' + v
                  }
                }
              }
            }
          });

          // Armazena instância para evitar duplicação
          window.priceChartInstance = chart;
        }
      </script>

    </section>

    <!-- Sustainability -->
    <section id="sustentabilidade" class="card p-6 mb-8">
      <div class="flex flex-col lg:flex-row gap-6 items-center">
        <div class="flex-1">
          <h3 class="text-2xl font-extrabold">Sustentabilidade e Boas Práticas</h3>
          <p class="muted mt-2">Adotamos práticas de biossegurança, reaproveitamento de cama e compostagem para reduzir
            impacto ambiental.</p>

          <ul class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3">
            <li class="p-3 rounded-md border border-gray-100">
              <div class="font-semibold">Compostagem</div>
              <div class="text-xs muted">Transformamos cama em adubo seguro para hortas locais.</div>
            </li>
            <li class="p-3 rounded-md border border-gray-100">
              <div class="font-semibold">Economia Circular</div>
              <div class="text-xs muted">Prioridade a fornecedores locais e embalagens reutilizáveis.</div>
            </li>
            <li class="p-3 rounded-md border border-gray-100">
              <div class="font-semibold">Saúde Animal</div>
              <div class="text-xs muted">Boas práticas e monitoramento diário para aves saudáveis.</div>
            </li>
            <li class="p-3 rounded-md border border-gray-100">
              <div class="font-semibold">Transparência</div>
              <div class="text-xs muted">Relatórios e controles internos conforme o manual da granja.</div>
            </li>
          </ul>
        </div>

        <div class="w-full lg:w-72">
          <div class="p-4 rounded-lg text-center"
            style="background:linear-gradient(180deg, rgba(47,122,63,0.06), rgba(255,201,71,0.03));">
            <div class="text-sm muted">Certificado Interno</div>
            <div class="text-3xl font-extrabold text-[var(--brand-green)] mt-2">Boas Práticas</div>
            <div class="text-xs muted mt-2">Auditorias internas, controle de qualidade e rastreabilidade.</div>
          </div>
        </div>
      </div>
    </section>
    <!-- Galeria de Fotos da Granja -->
    <section id="galeria" class="fade-up card p-6 lg:p-10 mb-12">
      <h2 class="text-2xl font-extrabold text-[var(--brand-dark)]">📸 Nossa Granja</h2>
      <p class="muted mt-2">Conheça um pouco mais do cuidado e da produção da Granja Bitencourt.</p>

      <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <!-- Foto 1 -->
        <div class="relative overflow-hidden rounded-2xl group cursor-pointer">
          <img src="1.jpg" alt="Galinhas na área externa"
            class="w-full h-56 object-cover transform transition-transform duration-700 group-hover:scale-110 group-hover:brightness-110">
          <div
            class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-3">
            <span class="text-white text-sm font-semibold">Galinhas felizes na granja</span>
          </div>
        </div>

        <!-- Foto 2 -->
        <div class="relative overflow-hidden rounded-2xl group cursor-pointer">
          <img src="2.jpg" alt="Ninho com ovos frescos"
            class="w-full h-56 object-cover transform transition-transform duration-700 group-hover:scale-110 group-hover:brightness-110">
          <div
            class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-3">
            <span class="text-white text-sm font-semibold">Ninhos com ovos frescos</span>
          </div>
        </div>

        <!-- Foto 3 -->
        <div class="relative overflow-hidden rounded-2xl group cursor-pointer">
          <img src="3.jpg" alt="Vista geral do galinheiro"
            class="w-full h-56 object-cover transform transition-transform duration-700 group-hover:scale-110 group-hover:brightness-110">
          <div
            class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-3">
            <span class="text-white text-sm font-semibold">Vista externa do galinheiro</span>
          </div>
        </div>

        <!-- Foto 4 -->
        <div class="relative overflow-hidden rounded-2xl group cursor-pointer">
          <img src="4.jpg" alt="Galinhas alimentando-se"
            class="w-full h-56 object-cover object-center transform transition-transform duration-700 group-hover:scale-110 group-hover:brightness-110">
          <div
            class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-3">
            <span class="text-white text-sm font-semibold">Momento de alimentação</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Modal / Lightbox -->
    <!-- 🔍 Lightbox Moderno -->
    <div id="lightbox" class="hidden">
      <div id="lightboxOverlay"
        class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50">
        <img id="lightboxImg" src="" alt="Imagem ampliada"
          class="max-h-[85vh] max-w-[90vw] rounded-2xl shadow-2xl border-4 border-white transform transition-transform duration-300 scale-95 opacity-0">
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const images = document.querySelectorAll("#galeria img");
        const lightbox = document.getElementById("lightbox");
        const overlay = document.getElementById("lightboxOverlay");
        const lightboxImg = document.getElementById("lightboxImg");

        images.forEach(img => {
          img.addEventListener("click", () => {
            lightboxImg.src = img.src;
            lightbox.classList.remove("hidden");
            lightboxImg.classList.remove("opacity-0", "scale-95");
            document.body.style.overflow = "hidden"; // impede rolagem
          });
        });

        overlay.addEventListener("click", (e) => {
          if (e.target === overlay) {
            lightboxImg.classList.add("opacity-0", "scale-95");
            setTimeout(() => {
              lightbox.classList.add("hidden");
              document.body.style.overflow = "";
            }, 250);
          }
        });

        window.addEventListener("keydown", (e) => {
          if (e.key === "Escape") {
            lightboxImg.classList.add("opacity-0", "scale-95");
            setTimeout(() => {
              lightbox.classList.add("hidden");
              document.body.style.overflow = "";
            }, 250);
          }
        });
      });
    </script>


    <!-- Seção Sobre a Granja -->
    <section id="sobre"
      class="fade-up card p-8 lg:p-12 mb-12 bg-gradient-to-br from-white via-[var(--brand-light)] to-[#fef9e7] rounded-2xl shadow-md">
      <div class="flex flex-col lg:flex-row items-center gap-8">

        <!-- Ícone / Ilustração -->
        <div class="flex-shrink-0 text-[var(--brand-green)]">
          <i class="fa-solid fa-egg text-6xl"></i>
        </div>

        <!-- Texto -->
        <div>
          <h2 class="text-3xl font-extrabold text-[var(--brand-dark)] mb-3">
            Sobre a Granja Bitencourt
          </h2>

          <p class="text-gray-700 leading-relaxed mb-4">
            A <strong>Granja Bitencourt</strong> atua em <strong>Nova Lima – MG</strong>, produzindo
            <strong>ovos caipiras</strong> com foco no <strong>bem-estar animal</strong>, na
            <strong>qualidade</strong> e na <strong>sustentabilidade</strong>.
          </p>

          <p class="text-gray-700 leading-relaxed mb-4">
            Cada etapa do nosso trabalho é guiada por um <strong>manual interno de boas práticas</strong>,
            que estabelece padrões de <strong>manejo responsável</strong>, <strong>biossegurança</strong>,
            <strong>rastreabilidade</strong> e <strong>gestão financeira</strong>, garantindo uma
            produção <strong>ética, segura e constante</strong>.
          </p>

          <p class="text-gray-700 leading-relaxed mb-4">
            Nosso compromisso é entregar <strong>ovos sempre frescos e saudáveis</strong>, mantendo a
            <strong>confiança de quem valoriza alimentos de origem consciente</strong>.
          </p>

          <div class="mt-4 text-sm text-gray-600 bg-white p-4 rounded-xl shadow-inner">
            Para conhecer mais sobre nossos processos,
            <strong>visite nossa sede</strong> ou solicite o
            <strong>manual completo</strong> pelo
            <a href="https://wa.me/5531996605864" target="_blank"
              class="text-[var(--brand-green)] underline font-medium">WhatsApp</a>
            ou por e-mail:
            <a href="mailto:bitencourtgranja@gmail.com"
              class="text-[var(--brand-green)] underline font-medium">bitencourtgranja@gmail.com</a>.
          </div>
        </div>
      </div>
    </section>
    <!-- Seção Linhagem -->
    <section id="linhagem"
      class="fade-up card p-8 lg:p-12 mb-12 bg-gradient-to-br from-[#f8fff8] to-[#ffffff] rounded-2xl shadow-md">
      <div class="flex flex-col lg:flex-row items-center gap-8">
        <div class="flex-shrink-0 text-[var(--brand-green)]">
          <i class="fa-solid fa-dna text-6xl"></i>
        </div>
        <div>
          <h2 class="text-3xl font-extrabold text-[var(--brand-dark)] mb-3">Linhagem das Nossas Galinhas</h2>
          <p class="text-gray-700 leading-relaxed mb-4">
            Na Granja Bitencourt, trabalhamos com a linhagem <strong>Isa Brown</strong>, reconhecida mundialmente pela
            sua
            <strong>alta produtividade</strong>, <strong>resistência</strong> e pela <strong>qualidade superior dos
              ovos</strong>.
          </p>
          <p class="text-gray-700 leading-relaxed mb-4">
            As galinhas Isa Brown são conhecidas por sua <strong>docilidade</strong> e <strong>ótima adaptação ao manejo
              caipira</strong>,
            garantindo bem-estar animal e excelente desempenho em sistemas livres.
          </p>
          <p class="text-gray-700 leading-relaxed">
            O resultado são ovos com <strong>gema mais intensa</strong>, <strong>cascas firmes</strong> e <strong>alto
              valor nutricional</strong>,
            ideais para quem valoriza sabor e qualidade natural.
          </p>
        </div>
      </div>
    </section>

    <!-- Seção de Contato -->
    <section id="contato" class="fade-in card p-6 lg:p-10 mb-12">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">

        <!-- Coluna de informações -->
        <div>
          <h2 class="text-2xl font-extrabold text-[var(--brand-dark)]">Fale Conosco</h2>
          <p class="muted mt-2">Entre em contato conosco para pedidos, dúvidas ou informações sobre entregas.</p>

          <div class="mt-6 space-y-4">
            <a id="whatsMain" href="https://wa.me/5531996605864" target="_blank"
              class="pill bg-[var(--brand-green)] hover:bg-green-600 transition text-white font-bold px-6 py-3 inline-flex items-center gap-3 shadow-md">
              <i class="fa-brands fa-whatsapp text-2xl"></i> Falar pelo WhatsApp
            </a>

            <!-- Botão para enviar e-mail automaticamente -->
            <a href="mailto:bitencourtgranja@gmail.com?subject=Pedido%20de%20Ovos%20Caipiras&body=Olá%20Granja%20Bitencourt,%0D%0A%0D%0AQuero%20fazer%20um%20pedido%20de%20ovos.%20Segue%20meus%20dados:%0D%0A%0D%0ANome:%0D%0AEndereço:%0D%0AQuantidade:%0D%0A%0D%0AObrigado!"
              class="pill bg-[var(--brand-yellow)] hover:bg-yellow-400 transition text-[var(--brand-dark)] font-bold px-6 py-3 inline-flex items-center gap-3 shadow-md">
              <i class="fa-solid fa-envelope text-lg"></i> Enviar E-mail
            </a>
            <div class="text-sm text-gray-600">
              <p>📍 Nova Lima - MG</p>
              <p>🕒 Atendimento: segunda a sábado, 8h às 17h</p>
            </div>
          </div>
        </div>

        <!-- Coluna do formulário -->
        <div>
          <form id="contactForm" class="space-y-4 bg-white rounded-2xl shadow-inner p-6">
            <h3 class="text-lg font-semibold text-[var(--brand-dark)] mb-2">Envie sua mensagem</h3>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
              <input name="nome" required
                class="w-full p-3 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--brand-green)]"
                placeholder="Seu nome">
              <input name="telefone" required
                class="w-full p-3 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--brand-green)]"
                placeholder="Telefone (WhatsApp)">
            </div>

            <textarea name="mensagem" rows="3" required
              class="w-full p-3 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[var(--brand-green)]"
              placeholder="Mensagem / pedido (ex: 2 dúzias, entrega amanhã)">
        </textarea>

            <div class="flex flex-wrap gap-3">
              <button type="submit"
                class="pill bg-[var(--brand-green)] hover:bg-green-600 text-white px-5 py-2 transition">
                Enviar pedido via WhatsApp
              </button>
              <button type="reset" class="pill border border-gray-200 hover:bg-gray-100 px-5 py-2 transition">
                Limpar
              </button>
            </div>

            <p class="text-xs muted mt-2">🔒 Suas informações são usadas apenas para contato direto via WhatsApp.</p>
          </form>
        </div>
      </div>
    </section>

    <!-- Rodapé -->
    <footer class="bg-[var(--brand-dark)] text-white py-10">
      <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-8">

        <!-- Coluna 1: Marca -->
        <div>
          <h3 class="font-extrabold text-lg">Granja Bitencourt</h3>
          <p class="text-sm mt-2 text-gray-300">
            Produzimos ovos caipiras frescos com cuidado e qualidade em <strong>Nova Lima - MG</strong>.
          </p>
        </div>

        <!-- Coluna 2: Contato -->
        <div>
          <h4 class="font-semibold text-md mb-2">Contato</h4>
          <ul class="space-y-1 text-sm text-gray-300">
            <li>📞 <a href="https://wa.me/5531996605864" target="_blank" class="hover:underline"> (31) 99660-5864</a>
            </li>
            <li>✉️ <a href="mailto:bitencourtgranja@gmail.com" class="hover:underline">bitencourtgranja@gmail.com</a>
            </li>
            <li>📍 Nova Lima - MG</li>
            <li>🕒 Atendimento: 8h às 17h</li>
          </ul>
        </div>

        <!-- Coluna 3: Redes sociais -->
        <div>
          <div class="flex items-center justify-start md:justify-center gap-4"></div>
          <h4 class="font-semibold text-md mb-2">Siga-nos</h4>
          <div class="flex items-center gap-4">
            <a href="https://www.instagram.com/GranjaBitencourt" target="_blank" rel="noopener" aria-label="Instagram"
              class="hover:text-[var(--brand-yellow)] transition" title="Instagram">
              <i class="fa-brands fa-instagram text-xl"></i>
            </a>

            <a href="https://wa.me/5531996605864" target="_blank" rel="noopener" aria-label="WhatsApp"
              class="hover:text-[var(--brand-yellow)] transition" title="WhatsApp">
              <i class="fa-brands fa-whatsapp text-xl"></i>
            </a>

            <a href="mailto:bitencourtgranja@gmail.com" aria-label="E-mail"
              class="hover:text-[var(--brand-yellow)] transition" title="E-mail">
              <i class="fa-solid fa-envelope text-xl"></i>
            </a>

            <!-- YouTube: substitua a URL pelo canal/caminho correto se necessário -->
            <a href="https://www.youtube.com/@GranjaBitencourt" target="_blank" rel="noopener" aria-label="YouTube"
              class="hover:text-[var(--brand-yellow)] transition" title="YouTube">
              <i class="fa-brands fa-youtube text-xl"></i>
            </a>
          </div>
        </div>


        <!-- Linha inferior -->
        <div class="border-t border-gray-700 mt-8 pt-4 text-center text-sm text-gray-400">
          © <span id="year"></span> Granja Bitencourt — Todos os direitos reservados.
        </div>
    </footer>

    <!-- Atualiza o ano automaticamente -->
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>


    <!-- Modal / Order -->
    <div id="orderModal" class="fixed inset-0 bg-black bg-opacity-40 hidden overflow-y-auto z-50">
      <div class="modal-card card mx-auto my-16 max-w-lg w-[90%]">
        <div class="flex items-start justify-between">
          <div>
            <h4 class="text-lg font-bold">Confirmar pedido</h4>
            <div class="muted text-sm">Vamos preparar a mensagem para o WhatsApp</div>
          </div>
          <button id="closeModal" class="text-muted">✕</button>
        </div>

        <form id="orderForm" class="mt-4 space-y-3">
          <input id="itemName" class="w-full p-3 rounded border border-gray-200"
            placeholder="Produto (ex: Dúzia — Caipira)" required>
          <div class="grid grid-cols-2 gap-3">
            <input id="qty" type="number" min="1" value="1" class="w-full p-3 rounded border border-gray-200"
              placeholder="Quantidade">
            <input id="delivery" class="w-full p-3 rounded border border-gray-200" placeholder="Data da entrega">
          </div>

          <!-- Duração só para assinatura -->
          <div id="durationField" class="hidden">
            <label class="text-sm muted">Duração da assinatura</label>
            <select id="duration" class="w-full p-3 rounded border border-gray-200">
              <option value="">Escolha (ex: 1 semana)</option>
              <option value="1 semana">1 semana</option>
              <option value="2 semanas">2 semanas</option>
              <option value="3 semanas">3 semanas</option>
              <option value="4 semanas">4 semanas</option>
              <option value="5 semanas">5 semanas</option>
              <option value="6 semanas">6 semanas</option>
              <option value="7 semanas">7 semanas</option>
              <option value="8 semanas">8 semanas</option>
              <option value="9 semanas">9 semanas</option>
              <option value="10 semanas">10 semanas</option>
              <option value="11 semanas">11 semanas</option>
              <option value="12 semanas">12 semanas</option>
            </select>
          </div>

          <input id="clientName" class="w-full p-3 rounded border border-gray-200" placeholder="Seu nome">
          <input id="clientPhone" class="w-full p-3 rounded border border-gray-200" placeholder="Telefone (WhatsApp)">

          <div class="flex gap-2">
            <button type="submit"
              class="pill bg-[var(--brand-yellow)] text-[var(--brand-dark)] font-bold px-4 py-2">Abrir no
              WhatsApp</button>
            <button type="button" id="modalCancel" class="pill border border-gray-200 px-4 py-2">Cancelar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal de Detalhes -->
    <div id="detailsModal" class="fixed inset-0 bg-black bg-opacity-40 hidden overflow-y-auto z-50">
      <div class="modal-card card relative mx-auto my-16 max-w-lg w-[90%]">
        <button id="closeDetails" class="absolute top-4 right-4 text-muted">✕</button>
        <h3 id="detailsTitle" class="text-2xl font-bold text-[var(--brand-dark)] mb-2"></h3>
        <p id="detailsText" class="muted text-sm"></p>
        <div id="detailsExtra" class="mt-4 text-sm muted"></div>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      // fade-in + year
      window.addEventListener('load', () => {
        document.querySelectorAll('.fade-in').forEach((el, i) => setTimeout(() => el.classList.add('show'), 120 + i * 120));
        document.getElementById('year').textContent = new Date().getFullYear();
      });

      // --- Modal order helpers ---
      const orderModal = document.getElementById('orderModal');
      const closeModalBtn = document.getElementById('closeModal');
      const modalCancel = document.getElementById('modalCancel');
      const durationField = document.getElementById('durationField');
      const orderBtn = document.getElementById('orderBtn');

      function openOrder(prefillItem = 'Dúzia — Caipira') {
        orderModal.classList.remove('hidden');
        document.getElementById('itemName').value = prefillItem;
        // show duration only for assinatura
        if (prefillItem.toLowerCase().includes('assinatura')) durationField.classList.remove('hidden');
        else durationField.classList.add('hidden');
      }
      function closeOrder() { orderModal.classList.add('hidden'); }

      orderBtn && orderBtn.addEventListener('click', (e) => { e.preventDefault(); openOrder(); });
      closeModalBtn && closeModalBtn.addEventListener('click', closeOrder);
      modalCancel && modalCancel.addEventListener('click', closeOrder);

      // expose to product onclicks
      window.openOrder = openOrder;

      // --- Details modal ---
      const detailsModal = document.getElementById('detailsModal');
      const closeDetails = document.getElementById('closeDetails');
      const detailsTitle = document.getElementById('detailsTitle');
      const detailsText = document.getElementById('detailsText');
      const detailsExtra = document.getElementById('detailsExtra');

      const detailsContent = {
        'Ovo Dúzia — Caipira': {
          title: 'Ovo Dúzia — Caipira',
          text: 'Produzido por galinhas criadas livres e alimentadas com ração natural, sem antibióticos. Cada dúzia é coletada e selecionada diariamente para garantir frescor e qualidade.',
          extra: 'Preço: R$ 14 / dúzia • Embalagem reciclável'
        },
        'Ovo Caixa — 30 un': {
          title: 'Ovo Caixa — 30 unidades',
          text: 'Ideal para restaurantes, mercadinhos e eventos. Volume embalado com cuidado, garantindo proteção e frescor durante o transporte.',
          extra: 'Preço promocional sob consulta • Retirada e entrega'
        },
        'Assinatura Semanal': {
          title: 'Assinatura Semanal',
          text: 'Receba ovos frescos toda semana. Você escolhe a duração (De 1 a 12 semanas) e a data de entrega. Cancelamento fácil via WhatsApp.',
          extra: 'Desconto progressivo para assinaturas maiores. Entre em contato para condições.'
        }
      };

      function showDetails(key) {
        const data = detailsContent[key];
        if (!data) return;
        detailsTitle.textContent = data.title;
        detailsText.textContent = data.text;
        detailsExtra.textContent = data.extra || '';
        detailsModal.classList.remove('hidden');
      }
      window.showDetails = showDetails;
      closeDetails && closeDetails.addEventListener('click', () => detailsModal.classList.add('hidden'));

      // close modals on ESC
      window.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (!orderModal.classList.contains('hidden')) closeOrder();
          if (!detailsModal.classList.contains('hidden')) detailsModal.classList.add('hidden');
        }
      });

      // --- Order form prepare whatsapp link ---
      const orderForm = document.getElementById('orderForm');
      orderForm && orderForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const item = (document.getElementById('itemName').value || 'Pedido').trim();
        const qty = (document.getElementById('qty').value || '1').trim();
        const delivery = (document.getElementById('delivery').value || '').trim();
        const duration = (document.getElementById('duration').value || '').trim();
        const name = (document.getElementById('clientName').value || '').trim();
        const phoneRaw = (document.getElementById('clientPhone').value || '').trim();
        const phone = phoneRaw.replace(/\D/g, '');

        let message = `Olá! Gostaria de fazer um pedido.%0A- Produto: ${encodeURIComponent(item)}%0A- Quantidade: ${encodeURIComponent(qty)}`;
        if (delivery) message += `%0A- Entrega: ${encodeURIComponent(delivery)}`;
        if (duration) message += `%0A- Duração (assinatura): ${encodeURIComponent(duration)}`;
        if (name) message += `%0A- Nome: ${encodeURIComponent(name)}`;
        if (phone) message += `%0A- Telefone: ${encodeURIComponent(phone)}`;

        const phoneTo = '5531996605864';
        window.open(`https://wa.me/${phoneTo}?text=${message}`, '_blank');
        closeOrder();
      });

      // --- Contact form -> WhatsApp ---
      const contactForm = document.getElementById('contactForm');
      contactForm && contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const fn = contactForm.nome?.value?.trim() || '';
        const tp = (contactForm.telefone?.value || '').replace(/\D/g, '');
        const msg = contactForm.mensagem?.value?.trim() || '';
        let message = `Contato via site.%0ANome: ${encodeURIComponent(fn)}%0ATelefone: ${encodeURIComponent(tp)}%0AMensagem: ${encodeURIComponent(msg)}`;
        window.open(`https://wa.me/5531996605864?text=${message}`, '_blank');
      });

      // --- Charts (same as original) ---
      // --- Charts (sincronizados e com comparativo nutricional) ---
      // --- Charts (estático, sincronizado) ---
      try {
        const brandGreen = getComputedStyle(document.documentElement).getPropertyValue('--brand-green') || '#2F7A3F';
        const brandYellow = getComputedStyle(document.documentElement).getPropertyValue('--brand-yellow') || '#FFC947';

        // Dados iniciais de produção — altere aqui quando quiser atualizar manualmente
        const productionData = [5, 21, 26, 22, 20, 22, 20];

        // Calcula porcentagens de frescos e estoque a partir dos dados de produção
        function calculateFreshnessData(prodData) {
          const lastTwoDays = prodData.slice(-2);
          const freshEggs = lastTwoDays.reduce((a, b) => a + b, 0);
          const total = prodData.reduce((a, b) => a + b, 0) || 1; // evita divisão por zero
          const freshPercent = (freshEggs / total) * 100;
          const stockPercent = 100 - freshPercent;
          return [Number(freshPercent.toFixed(2)), Number(stockPercent.toFixed(2))];
        }

        // 1) Gráfico Comparativo Nutricional (igual ao original) - animação desligada
        new Chart(document.getElementById('nutritionChart'), {
          type: 'bar',
          data: {
            labels: ['Ômega-3', 'Vitaminas (A,E,D)', 'Colesterol'],
            datasets: [
              { label: 'Ovo Caipira', data: [9, 8.5, 6.8], backgroundColor: brandGreen },
              { label: 'Ovo Comum', data: [5, 6, 8], backgroundColor: '#F0C089' }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: { y: { beginAtZero: true } },
            plugins: { legend: { position: 'bottom' }, title: { display: true, text: 'Comparativo Nutricional' } }
          }
        });

        // 2) Gráfico de Produção (linha) — sem animação
        const productionChart = new Chart(document.getElementById('productionChart'), {
          type: 'line',
          data: {
            labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
            datasets: [{
              label: 'Produção (unidades)',
              data: productionData.slice(), // usa cópia
              fill: true,
              tension: 0.3,
              backgroundColor: 'rgba(47,122,63,0.12)',
              borderColor: brandGreen,
              pointBackgroundColor: brandYellow
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            plugins: { legend: { display: true, position: 'bottom' }, title: { display: true, text: 'Produção dos últimos 7 dias' } }
          }
        });

        // 3) Gráfico Frescos / Estoque (doughnut) — sem animação
        const freshnessChart = new Chart(document.getElementById('freshnessChart'), {
          type: 'doughnut',
          data: {
            labels: ['Frescos', 'Em estoque'],
            datasets: [{
              data: calculateFreshnessData(productionData),
              backgroundColor: [brandGreen, '#E2E8F0']
            }]
          },
          options: {
            responsive: true,
            cutout: '70%',
            animation: false,
            plugins: {
              legend: { display: true, position: 'bottom' },
              title: { display: true, text: 'Proporção: ovos frescos x em estoque' },
              tooltip: { callbacks: { label: ctx => `${ctx.label}: ${ctx.parsed}%` } }
            }
          }
        });

        // Função que atualiza o doughnut a partir dos dados atuais do gráfico de produção
        function updateFreshnessChart() {
          const newData = productionChart.data.datasets[0].data.map(Number);
          const [freshPercent, stockPercent] = calculateFreshnessData(newData);
          freshnessChart.data.datasets[0].data = [freshPercent, stockPercent];
          freshnessChart.update();
        }

        // Inicializa a sincronização UMA vez (sem ciclos)
        updateFreshnessChart();

      } catch (err) {
        console.warn('Erro ao inicializar gráficos (estático):', err);
      }


      // 2️⃣ Gráfico de Produção (últimos 7 dias)
      const productionChart = new Chart(document.getElementById('productionChart'), {
        type: 'line',
        data: {
          labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
          datasets: [{
            label: 'Produção (unidades)',
            data: productionData,
            fill: true,
            tension: 0.3,
            backgroundColor: 'rgba(47,122,63,0.12)',
            borderColor: brandGreen,
            pointBackgroundColor: brandYellow
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: true, position: 'bottom' },
            title: { display: true, text: 'Produção dos últimos 7 dias' }
          },
          onClick: () => updateFreshnessChart()
        }
      });

      // 3️⃣ Gráfico de Ovos Frescos / Estoque (doughnut sincronizado)
      const freshnessChart = new Chart(document.getElementById('freshnessChart'), {
        type: 'doughnut',
        data: {
          labels: ['Frescos', 'Em estoque'],
          datasets: [{
            data: calculateFreshnessData(productionData),
            backgroundColor: [brandGreen, '#E2E8F0']
          }]
        },
        options: {
          responsive: true,
          cutout: '70%',
          plugins: {
            legend: { display: true, position: 'bottom' },
            title: { display: true, text: 'Proporção de ovos frescos e em estoque' },
            tooltip: {
              callbacks: {
                label: ctx => `${ctx.label}: ${ctx.parsed.toFixed(1)}%`
              }
            }
          }
        }
      });

      // 🔄 Sincronização automática
      function updateFreshnessChart() {
        const newData = productionChart.data.datasets[0].data;
        const [freshPercent, stockPercent] = calculateFreshnessData(newData);
        freshnessChart.data.datasets[0].data = [freshPercent, stockPercent];
        freshnessChart.update();
      }

      // small mobile button placeholder
      const mobileBtn = document.getElementById('mobileBtn');
      mobileBtn && mobileBtn.addEventListener('click', () => alert('Menu móvel não configurado — use os links do rodapé por enquanto.'));

    </script>

    <!-- Botão flutuante do WhatsApp -->
    <a href="https://wa.me/5531996605864" target="_blank"
      class="fixed bottom-20 right-6 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition"
      aria-label="WhatsApp">
      <i class="fa-brands fa-whatsapp text-2xl"></i>
    </a>

</body>

</html>
